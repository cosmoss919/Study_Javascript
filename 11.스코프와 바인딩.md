# ë ‰ì‹œì»¬(ì •ì ) ìŠ¤ì½”í”„
- ë³€ìˆ˜ë‚˜ ìƒìˆ˜ê°€ ì½”ë“œìƒ ì–´ë””ì— ì§€ì •ë˜ì–´ìˆëŠ”ê°€ì— ë”°ë¼ ê·¸ ì‚¬ìš©ë²”ìœ„ë¥¼ ê²°ì •
- í•¨ìˆ˜ê°€ ì½”ë“œìƒ ì–´ë””ì— ì •ì˜ ë˜ì–´ìˆëŠ”ì§€ì— ë”°ë¼ ê·¸ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê²°ì •
- í˜¸ì¶œí•œ ê³³ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ë™ì  ìŠ¤ì½”í”„ì™€ ìƒë°˜ë˜ëŠ” ê°œë…

``` javacript
const x = 1;
const y = 1;
const z = 1;

function func1 () {
  const y = 2;
  const z = 2;

  console.log('2', x, y, z);  // 2. 1 2 2
  func2();
}

function func2 () {
  const z = 3;

  console.log('3', x, y, z);  // 3. 1 2 3
}


console.log('1', x, y, z)  // 1. 1 1 1
func1();
```

<br/>
<br/>

# í´ë¡œì €
- ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ì™¸ë¶€ í•¨ìˆ˜ì˜ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ê°œë… (í•¨ìˆ˜ ì¤‘ì²©ì‹œ)

``` javascript
function func1 () {
  const word = 'Hello';

  function func2 () {
    console.log(word);
  }
  
  return func2;
}

const logHello = func1();

logHello();
```
- logHelloì—ëŠ” func1 ì•ˆì— func2 ê°€ ë°˜í™˜ë˜ì–´ ìˆìŒ
- func1ì˜ ì‹¤í–‰ì´ ëë‚¬ì§€ë§Œ, í•´ë‹¹ ìŠ¤ì½”í”„ ì•ˆì— ê°’ì´ ì‚´ì•„ ìˆìŒ
- func2ì™€ func2ê°€ ì„ ì–¸ëœ í™˜ê²½(func1ì˜ ìŠ¤ì½”í”„)ì˜ ì¡°í•© - __í´ë¡œì €__

<br/>

``` javascript
function createCounter (start) {
  let num = start;

  return function () {
    console.log(++start);
    return start;
  }
}

const count = createCounter(10);
```

``` javascript
count(); // ë°˜ë³µ ì‹¤í–‰í•´ ë³¼ ê²ƒ
```
- ë‹¨ì§€ ê°’ì„ ë³µì‚¬í•´ì„œ ê°–ëŠ”ê²ƒì´ ì•„ë‹ˆë¼, í•´ë‹¹ ê°’ì´ ì €ì¥ë˜ëŠ” ì™¸ë¶€ í™˜ê²½ ìì²´ê°€ ìœ ì§€ë¨

<br/>

### private field ì²˜ëŸ¼ ì‚¬ìš©
``` javascript
function employeeCreator (name, age) {
  let _name = name;
  let _age = age;

  return {
    name: () => _name,
    age: () => _age,
    setAge: function (age) { _age = age; },
    getOlder: function (years) { _age += years; }
  }
}

const employee = employeeCreator('ê¹€ìë°”', 20);

console.log(employee);
console.log(employee.name(), employee.age());
```
``` javascript
employee.setAge(25);
console.log(employee.name(), employee.age());
```
``` javascript
employee.getOlder(3);
console.log(employee.name(), employee.age());
```

<br/>
<br/>

# this
- ê¸°ë³¸ì ìœ¼ë¡œ ìì‹ ì´ ì†í•œ ê³³ì„ ê°€ë¥´í‚´

<br/>

### ì „ì—­ this
``` javacript
console.log(this);
```

<br/>

### í•¨ìˆ˜ this
- ê°ì²´ì— ì†í•˜ì§€ ì•Šì€ í•¨ìˆ˜ì—ì„œëŠ” this ì‚¬ìš©ì´ ì˜ë¯¸ ì—†ìŒ
``` javascript
function func () {
  console.log(this); // globalThis
}

func();
```

<br/>

### ê°ì²´ ë¦¬í„°ì»¬ 
- í•´ë‹¹ ê°ì²´ë¥¼ ê°€ë¥´í‚´
``` javascript
const obj = {
  x: 123,
  getX: function () {
    return this.x;
  }
}

console.log(obj.getX());
```

<br/>

### ìƒì„±ì í•¨ìˆ˜ 
- ìƒì„±ë  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¥´í‚´
``` javascript
function Person (name, age) {
  this.name = name;
  this.age = age;
  this.introduce = function  () {
    return `ì €ëŠ” ${this.name}, ${this.age}ì„¸ì…ë‹ˆë‹¤.`
  }
}

console.log(new Person('ê¹€ìë°”', 20).introduce());
```

<br/>

### í´ë˜ìŠ¤ ì„ ì–¸ 
- ìƒì„±ë  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¥´í‚´
``` javascript
class BlackKimbab {
  constructor (name, no) {
    this.name = name;
    this.no = no;
  }
  introduce () {
    return `ì•ˆë…•í•˜ì„¸ìš”, ë¸”ë™ ê¹€ë°¥ ${this.no}í˜¸ ${this.name}ì ì…ë‹ˆë‹¤!`;
  }
}

console.log(
  new BlackKimbab('ê°•ë‚¨', 5).introduce()
);
```

<br/>

### ë™ì  ë°”ì¸ë”©
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë…íŠ¹í•œ ë™ì‘ë°©ì‹
- thisê°€ ê°€ë¥´í‚¤ëŠ” ëŒ€ìƒì´ í•¨ìˆ˜ì˜ í˜¸ì¶œ ì£¼ì²´ ë˜ëŠ” ê·¸ ë°©ì‹ì— ë”°ë¼ ë‹¬ë¼ì§

<br/>

- ëˆ„ê°€, ì–´ë–»ê²Œ í˜¸ì¶œë˜ì—ˆëŠ”ê°€ì— ë”°ë¼ thisê°€ ê°€ë¥´í‚¤ëŠ” ëŒ€ìƒì´ ë‹¬ë¼ì§
``` javascript
const korean = {
  favorite: 'ê¹€ì¹˜',
  makeStew: function (isHot, pots) {
    return `${isHot ? 'ë§¤ìš´' : 'ìˆœí•œ'} ${this.favorite}ì°Œê°œ ${pots}ëƒ„ë¹„`;
  }
};

const italian = {
  favorite: 'í”¼ì'
};

console.log(korean.makeStew(true, 1));

// ì´íƒˆë¦¬ì•„ì¸ì—ê²Œ í•œêµ­ì¸ì´ ì°Œê°œ ë“ì´ëŠ” ë²•ì„ ì•Œë ¤ì¤Œ
italian.makeStew = korean.makeStew;

console.log(italian.makeStew(false, 2));  //í”¼ìì°Œê°œ
```

<br/>

#### callì„ ì‚¬ìš©í•œ í•¨ìˆ˜
- this ëŒ€ìƒê³¼ ì¸ìë“¤ ë‚˜ì—´
``` javascript
console.log(italian.makeStew.call(korean, false, 2));
```

<br/>

### applyë¥¼ ì‚¬ìš©í•œ í•¨ìˆ˜
``` javascript
console.log(italian.makeStew.apply(korean, [false, 2]));
```

<br/>

#### â­ bindë¥¼ ì‚¬ìš©í•œ this ëŒ€ìƒ ê³ ì •
``` javascript
// â­ thisê°€ ë°”ì¸ë”©ëœ ìƒˆ í•¨ìˆ˜ë¥¼ ë§Œë“¦
italian.makeRightStew = korean.makeStew.bind(korean);

console.log(italian.makeRightStew(false, 2));  //ê¹€ì¹˜ ì°Œê°œ
```

<br/>

##### ğŸ’¡ ì¶”ê°€ ì¸ìë“¤ê¹Œì§€ ë°”ì¸ë”© ê°€ëŠ¥ 
``` javascript
italian.makeClassicStew = korean.makeStew.bind(korean, true, 1);

console.log(italian.makeClassicStew());
```

<br/>

#### ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ë‚´ë³´ë‚´ëŠ” í•¨ìˆ˜
``` javascript
const korean = {
  favorite: 'ê¹€ì¹˜',
  makeStew: function (isHot, pots) {
    return `${isHot ? 'ë§¤ìš´' : 'ìˆœí•œ'} ${this.favorite}ì°Œê°œ ${pots}ëƒ„ë¹„`;
  },
  teachMakingStew: function () {
    return this.makeStew.bind(this);
  }
};

const italian = {
  favorite: 'í”¼ì'
};

italian.makeStew = korean.teachMakingStew();

console.log(
  italian.makeStew(false, 2)
);
```

<br/>

#### ìƒì„±ì í•¨ìˆ˜ì¼ ê²½ìš°
- í•¨ìˆ˜ ìì²´ë¥¼ ë¯¸ë¦¬ ì¸ìŠ¤í„´ìŠ¤ì— ë°”ì¸ë”©
``` javascript
function Korean () {
  this.favorite = 'ê¹€ì¹˜';
  this.makeStew = function (isHot, pots) {
    return `${isHot ? 'ë§¤ìš´' : 'ìˆœí•œ'} ${this.favorite}ì°Œê°œ ${pots}ëƒ„ë¹„`;
  };

  // ğŸ’¡ ì—¬ê¸°ì„œ ë°”ì¸ë”©ì„ ê³ ì •ì‹œì¼œë²„ë¦¼
  this.makeStew = this.makeStew.bind(this);
}

function Italian () {
  this.favorite = 'í”¼ì';
}

const korean = new Korean();
const italian = new Italian();

italian.makeStew = korean.makeStew;

console.log(italian.makeStew(false, 2));
```

<br/>

#### ë˜ë‹¤ë¥¸ í™œìš©
``` javascript
function intro (job) {
  return `${this.name}(${this.age}ì„¸) - ${job}`
}

const java = {
  name: 'ê¹€ìë°”',
  age: 20
};

const cshop = {
  name: 'ë°•ì”¨ìƒµ',
  age: 25
};

// ë™ì  ë°”ì¸ë”© íŠ¹ì„± í™œìš©
java.intro = intro;

console.log(
  java.intro('ê°œë°œì')
);

console.log(intro.call(java, 'ê°œë°œì'));
console.log(intro.apply(cshop, ['ì‚¬ë¬´ì§']));
```

<br/>

#### ë°°ì—´ ë©”ì„œë“œì˜ thisArg
- ì½œë°±ìœ¼ë¡œ ì£¼ì–´ì§„ í•¨ìˆ˜ ë‚´ì—ì„œ thisê°€ ê°€ë¥´í‚¬ ëŒ€ìƒ
- ë³´í†µ ì½œë°±í•¨ìˆ˜ ë‹¤ìŒ ì¸ìë¡œ ë„£ìŒ

<br/>

##### ì„±ë³„ê³¼ ì‚¬ì´ì¦ˆì— ë§ëŠ” ì˜· ì¶”ì²œ
``` javascript
function recommendForYou (me) {
  const products = [
    { sex: 'F', size: 'M' },
    { sex: 'M', size: 'L' },
    { sex: 'F', size: 'M' },
    { sex: 'U', size: 'S' },
    { sex: 'M', size: 'L' },
    { sex: 'F', size: 'S' },
  ];

  products
  .map((itm, idx) => {
    return { ...itm, idx } 
  })

  // âš ï¸ í™”ì‚´í‘œ í•¨ìˆ˜ ëŒ€ì‹  function ì„ ì–¸ í•¨ìˆ˜ ì‚¬ìš© ì£¼ëª©
  .filter(function ({sex, size}) {
    return ['U', this.sex].includes(sex)
    && size === this.size
  }, me) // ğŸ’¡ thisArg

  .forEach(function ({idx}) {
    console.log(`${this.name}ë‹˜, ${++idx}ë²ˆì€ ì–´ë– ì„¸ìš”?`);
  }, me); // ğŸ’¡ thisArg
}

const peter = {
  name: 'í”¼í„°',
  sex: 'M',
  size: 'L'
};

const jane = {
  name: 'ì œì¸',
  sex: 'F',
  size: 'S'
};

recommendForYou(peter);
recommendForYou(jane);
```

<br/>

### í™”ì‚´í‘œ í•¨ìˆ˜ì™€ this
- function í•¨ìˆ˜ë‚˜ ë©”ì„œë“œì˜ ë™ì  ë°”ì¸ë”©ê³¼ ë‹¤ë¥´ê²Œ ë™ì‘
- í•¨ìˆ˜ê°€ ì–´ë””ì„œ ì„ ì–¸ë˜ì—ˆëŠ”ê°€ì— ë”°ë¦„ - ê°€ì¥ ê·¼ì ‘í•œ ìƒìœ„ ìŠ¤ì½”í”„ì— ë°”ì¸ë”© ê³ ì •
- ì¦‰ thisë¥¼ ì •ì ìœ¼ë¡œ ë°”ì¸ë”©í•¨

#### ê°ì²´ ë¦¬í„°ëŸ´
- ê°ì²´ ë¦¬í„°ëŸ´ì˜ í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ê°€ë¦¬í‚¤ëŠ” ê¸°ë³¸ ìŠ¤ì½”í”„ê°€ ë‚˜ë¨¸ì§€ ë‘˜ê³¼ ë‹¤ë¦„
``` javascript
const obj = {
  x: 1,
  y: 2,

  func1: function () {
    console.log('1.', this);
  },
  func2 () {
    console.log('2.', this);
  },
  func3: () => {
    console.log('3.', this);
  }
}

// thisê°€ í•´ë‹¹ ê°ì²´ë¥¼ ê°€ë¦¬í‚´
obj.func1();
obj.func2();

// ğŸ’¡ thisê°€ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê°€ë¦¬í‚´
obj.func3();
```

``` javascript
const outer = {
  a: true,
  b: false,

  func: function () {
    const inner = {
      x: 1,
      y: 2,

      func1: function () {
        console.log('1.', this);
      },
      func2 () {
        console.log('2.', this);
      },
      func3: () => {
        console.log('3.', this);
      }
    }

    // thisê°€ innerë¥¼ ê°€ë¦¬í‚´ 
    inner.func1();
    inner.func2();

    // thisê°€ outerë¥¼ ê°€ë¦¬í‚´
    inner.func3();
  }
}

outer.func();
```

<br/>

#### ìƒì„±ì í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ì—ì„œ
- ê¸°ë³¸ì ìœ¼ë¡œ ê°€ë¦¬í‚¤ëŠ” ëŒ€ìƒì´ ë™ì¼

<br/>

##### ğŸ’¡ ë™ì ìœ¼ë¡œ ë°”ì¸ë”©í•˜ëŠ” íƒ€ ë°©ì‹ê³¼ì˜ ì°¨ì´
- ì°Œê°œëŠ” funcion í•¨ìˆ˜ì™€ ë©”ì„œë“œë¡œ
- ë³¶ìŒë°¥ì€ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ

<br/>

- ìƒì„±ì í•¨ìˆ˜
``` javascript
function Korean () {
  this.favorite = 'ê¹€ì¹˜';

  this.makeStew = function (isHot) {
    return `${isHot ? 'ë§¤ìš´' : 'ìˆœí•œ'} ${this.favorite}ì°Œê°œ`;
  };
  this.fryRice = (isHot) => {
    return `${isHot ? 'ë§¤ìš´' : 'ìˆœí•œ'} ${this.favorite}ë³¶ìŒë°¥`;
  };
}

function Italian () {
  this.favorite = 'í”¼ì';
}

const korean = new Korean();
const italian = new Italian();

console.log(korean.makeStew(true));
console.log(korean.fryRice(true));

italian.makeStew = korean.makeStew;
italian.fryRice = korean.fryRice;

console.log(italian.makeStew(false));  //í”¼ìì°Œê°œ
console.log(italian.fryRice(false));   //ê¹€ì¹˜ë³¶ìŒë°¥
```
<br/>

- í´ë˜ìŠ¤
``` javascript
// â™»ï¸ ìƒˆë¡œê³ ì¹¨ í›„ ì‹¤í–‰
class Korean {
  constructor () {
    this.favorite = 'ê¹€ì¹˜';
    this.fryRice = (isHot) => {
      return `${isHot ? 'ë§¤ìš´' : 'ìˆœí•œ'} ${this.favorite}ë³¶ìŒë°¥`;
    }
  }
  makeStew (isHot) {
    return `${isHot ? 'ë§¤ìš´' : 'ìˆœí•œ'} ${this.favorite}ì°Œê°œ`;
  }
}

class Italian {
  constructor () {
    this.favorite = 'í”¼ì';
  }
}

const korean = new Korean();
const italian = new Italian();

console.log(korean.makeStew(true));
console.log(korean.fryRice(true));

italian.makeStew = korean.makeStew;
italian.fryRice = korean.fryRice;

console.log(italian.makeStew(false));  // í”¼ìì°Œê°œ
console.log(italian.fryRice(false));
```







